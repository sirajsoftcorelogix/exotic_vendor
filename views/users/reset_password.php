<div class="relative min-h-screen flex items-center justify-center p-4 overflow-hidden">
<!-- Decorative Elements -->
<div class="absolute w-[157px] h-[42px] hidden md:block" style="top: 20px; left: 20px;">
    <svg viewBox="0 0 271 75" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M1 58.0725C6.35323 62.4967 14.3831 71.677 27.7662 70.0179C51.8557 67.0316 87.5446 19.5818 73.2687 14.2725C57.209 8.29976 66.5771 74 96.0199 74C125.463 74 148.214 1 174.98 1C201.746 1 181.672 48.7818 208.438 50.1091C235.204 51.4364 229.851 15.6 270 22.2364" stroke="#424242" stroke-width="2"/>
    </svg>
</div>
<div class="absolute top-8 right-8 w-16 h-40 hidden md:block">
    <svg viewBox="0 0 62 151" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="8.2196" height="8.2196" transform="matrix(0.696258 0.717792 -0.696258 0.717792 5.99072 0)" fill="#D06706"/>
        <rect width="8.2196" height="8.2196" transform="matrix(0.696258 0.717792 -0.696258 0.717792 5.99072 38.9376)" fill="#D06706"/>
        <rect width="8.2196" height="8.2196" transform="matrix(0.696258 0.717792 -0.696258 0.717792 5.99072 76.4849)" fill="#D06706"/>
        <rect width="8.2196" height="8.2196" transform="matrix(0.696258 0.717792 -0.696258 0.717792 5.99072 115.423)" fill="#D06706"/>
        <rect width="8.2196" height="8.2196" transform="matrix(0.696258 0.717792 -0.696258 0.717792 56.1321 0)" fill="#D06706"/>
        <rect width="8.2196" height="8.2196" transform="matrix(0.696258 0.717792 -0.696258 0.717792 56.1321 38.9376)" fill="#D06706"/>
        <rect width="8.2196" height="8.2196" transform="matrix(0.696258 0.717792 -0.696258 0.717792 56.1321 76.4849)" fill="#D06706"/>
        <rect width="8.2196" height="8.2196" transform="matrix(0.696258 0.717792 -0.696258 0.717792 56.1321 115.423)" fill="#D06706"/>
        <rect width="8.2196" height="8.2196" transform="matrix(0.696258 0.717792 -0.696258 0.717792 30.5027 23.641)" fill="#D06706"/>
        <rect width="8.2196" height="8.2196" transform="matrix(0.696258 0.717792 -0.696258 0.717792 30.5027 62.5786)" fill="#D06706"/>
        <rect width="8.2196" height="8.2196" transform="matrix(0.696258 0.717792 -0.696258 0.717792 30.5027 100.126)" fill="#D06706"/>
        <rect width="8.2196" height="8.2196" transform="matrix(0.696258 0.717792 -0.696258 0.717792 30.5027 139.063)" fill="#D06706"/>
    </svg>
</div>
<div class="absolute bottom-8 left-8 flex items-center space-x-4 hidden md:flex">
    <div style="width: 150.86px; height: 61.59px;">
        <svg class="w-full h-full" viewBox="0 0 151 62" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="8.2196" height="8.2196" transform="matrix(-0.717792 0.696258 -0.717792 -0.696258 150.863 5.72302)" fill="#D06706"/>
            <rect width="8.2196" height="8.2196" transform="matrix(-0.717792 0.696258 -0.717792 -0.696258 111.926 5.72302)" fill="#D06706"/>
            <rect width="8.2196" height="8.2196" transform="matrix(-0.717792 0.696258 -0.717792 -0.696258 74.3784 5.72302)" fill="#D06706"/>
            <rect width="8.2196" height="8.2196" transform="matrix(-0.717792 0.696258 -0.717792 -0.696258 35.4407 5.72302)" fill="#D06706"/>
            <rect width="8.2196" height="8.2196" transform="matrix(-0.717792 0.696258 -0.717792 -0.696258 150.863 55.8645)" fill="#D06706"/>
            <rect width="8.2196" height="8.2196" transform="matrix(-0.717792 0.696258 -0.717792 -0.696258 111.926 55.8645)" fill="#D06706"/>
            <rect width="8.2196" height="8.2196" transform="matrix(-0.717792 0.696258 -0.717792 -0.696258 74.3784 55.8645)" fill="#D06706"/>
            <rect width="8.2196" height="8.2196" transform="matrix(-0.717792 0.696258 -0.717792 -0.696258 35.4407 55.8645)" fill="#D06706"/>
            <rect width="8.2196" height="8.2196" transform="matrix(-0.717792 0.696258 -0.717792 -0.696258 127.222 30.2349)" fill="#D06706"/>
            <rect width="8.2196" height="8.2196" transform="matrix(-0.717792 0.696258 -0.717792 -0.696258 88.2847 30.2349)" fill="#D06706"/>
            <rect width="8.2196" height="8.2196" transform="matrix(-0.717792 0.696258 -0.717792 -0.696258 50.7375 30.2349)" fill="#D06706"/>
            <rect width="8.2196" height="8.2196" transform="matrix(-0.717792 0.696258 -0.717792 -0.696258 11.7996 30.2349)" fill="#D06706"/>
        </svg>
    </div>
    <div style="width: 156px; height: 42px;">
        <svg viewBox="0 0 271 75" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1 58.0725C6.35323 62.4967 14.3831 71.677 27.7662 70.0179C51.8557 67.0316 87.5446 19.5818 73.2687 14.2725C57.209 8.29976 66.5771 74 96.0199 74C125.463 74 148.214 1 174.98 1C201.746 1 181.672 48.7818 208.438 50.1091C235.204 51.4364 229.851 15.6 270 22.2364" stroke="#424242" stroke-width="2"/>
        </svg>
    </div>
</div>
<div class="absolute w-[269px] h-[73px] hidden md:block" style="bottom: 2rem; right: 2rem;">
    <svg viewBox="0 0 271 75" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M1 58.0725C6.35323 62.4967 14.3831 71.677 27.7662 70.0179C51.8557 67.0316 87.5446 19.5818 73.2687 14.2725C57.209 8.29976 66.5771 74 96.0199 74C125.463 74 148.214 1 174.98 1C201.746 1 181.672 48.7818 208.438 50.1091C235.204 51.4364 229.851 15.6 270 22.2364" stroke="#424242" stroke-width="2"/>
    </svg>
</div>

<!-- Main Content -->
<div id="main-content" class="w-full max-w-md flex flex-col items-start">
    <!-- Logo -->
    <div class="mb-6">
        <img src="images/logo2.png" alt="Company Logo" class="rounded-md" style="width: 190px">
    </div>

    <div class="w-full text-left">
        <h2 class="text-3xl font-bold text-gray-800 mb-2">New Password</h2>
        <p class="text-gray-500 mb-8">Set the new password for your account so you can login and access all features.</p>
    </div>

    <form action="#" id="passwordForm" class="w-full">
        <div class="text-left mb-4">
            <label for="new-password" class="font-semibold text-gray-700">Enter new password</label>
            <div class="relative mt-1">
                <input type="password" id="new-password" class="w-full pl-4 pr-10 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 transition duration-300" placeholder="*********">
                <button type="button" class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400" onclick="togglePasswordVisibility('new-password')">
                    <i class="fa-regular fa-eye"></i>
                </button>
            </div>
        </div>

        <div class="text-left mb-8">
            <label for="confirm-password" class="font-semibold text-gray-700">Confirm password</label>
            <div class="relative mt-1">
                <input type="password" id="confirm-password" class="w-full pl-4 pr-10 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 transition duration-300" placeholder="*********">
                <button type="button" class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400" onclick="togglePasswordVisibility('confirm-password')">
                    <i class="fa-regular fa-eye"></i>
                </button>
            </div>
            <p id="error-message" class="text-red-500 text-sm mt-1"></p>
        </div>

        <button type="submit" class="w-full bg-[#D06706] text-white font-bold py-3 rounded-lg shadow-lg hover:bg-orange-700 transition duration-300">
            Update Password
        </button>
    </form>
</div>

<!-- Main Success Content -->
<div id="success-message" class="w-full max-w-md flex flex-col items-center text-center" style="display: none;">
    <!-- Success Icon -->
    <div class="w-32 h-32 flex items-center justify-center mb-6">
        <svg class="w-full h-full" viewBox="0 0 127 127" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M95.1275 39.4239C97.0002 41.289 97.0063 44.3192 95.1412 46.1919L54.8166 86.6804C52.9515 88.5531 49.9215 88.5593 48.0487 86.6943L33.3426 72.0491C31.4698 70.1841 31.4635 67.1539 33.3285 65.2811C35.1936 63.4083 38.2237 63.402 40.0965 65.267L51.4118 76.5354L88.3595 39.4376C90.2246 37.5649 93.2547 37.5588 95.1275 39.4239Z" fill="#D06706"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M63.7211 9.65676C38.3533 9.65676 17.0715 27.3704 11.6085 51.1002L11.6085 51.1003C10.7192 54.9628 10.2483 58.9889 10.2483 63.1296C10.2483 92.6394 34.2113 116.602 63.7211 116.602C93.2309 116.602 117.194 92.6394 117.194 63.1296C117.194 33.6198 93.2309 9.65676 63.7211 9.65676ZM2.28104 48.9529C8.72138 20.9777 33.7928 0.0853271 63.7211 0.0853271C98.5171 0.0853271 126.765 28.3336 126.765 63.1296C126.765 97.9255 98.5171 126.174 63.7211 126.174C28.9252 126.174 0.67688 97.9255 0.67688 63.1296C0.67688 58.2608 1.23082 53.5145 2.28104 48.9529Z" fill="#D06706" fill-opacity="0.32"/>
        </svg>
    </div>

    <h2 class="text-3xl font-bold text-gray-800 mb-2">Successfully</h2>
    <p class="text-gray-500 mb-8">Your password has been reset successfully</p>

    <!-- <button class="w-full bg-[#D06706] text-white font-bold py-3 rounded-lg shadow-lg hover:bg-orange-700 transition duration-300">
        Continue
    </button> -->
    <div class="mt-4">
        <a href="?page=users&action=login" class="btn text-orange-600 hover:underline">Login</a>
    </div>
</div>

</div>
<script>
    const passwordForm = document.getElementById('passwordForm');
    const newPassword = document.getElementById('new-password');
    const confirmPassword = document.getElementById('confirm-password');
    const errorMessage = document.getElementById('error-message');

    passwordForm.addEventListener('submit', function(e) {
        e.preventDefault();
        if (newPassword.value !== confirmPassword.value) {
            errorMessage.textContent = 'Passwords do not match.';
        } else {
            errorMessage.textContent = '';
            // Add logic to handle successful password update here
            fetch('?page=users&action=resetPasswordProcess', {
                method: 'POST',
                headers: {'Content-Type': 'application/x-www-form-urlencoded'},
                body: 'login=' + encodeURIComponent('<?php echo $login; ?>') + '&newPassword=' + encodeURIComponent(newPassword.value)
            })
            .then(r => r.json())
            .then(data => {
                if (data.success) {
                    document.getElementById('main-content').style.display = 'none';
                    document.getElementById('success-message').style.display = 'flex';
                    //alert('Password updated successfully!');
                } else {
                    errorMessage.textContent = data.message;
                }
            });
        }
    });

    function togglePasswordVisibility(inputId) {
        const input = document.getElementById(inputId);
        const icon = input.nextElementSibling.querySelector('i');
        if (input.type === "password") {
            input.type = "text";
            icon.classList.remove('fa-eye');
            icon.classList.add('fa-eye-slash');
        } else {
            input.type = "password";
            icon.classList.remove('fa-eye-slash');
            icon.classList.add('fa-eye');
        }
    }
</script>